  
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">å®‰å…¨äº‘â€”â€”H3C | è‚‰å¤¹é­”</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * é‚®ç®±ä¿¡æ¯ä¹‹ç±»çš„ä¸œè¥¿å¯ä»¥å¡«åœ¨è¿™é‡Œï¼Œè¿™äº›jså˜é‡åŸºæœ¬éƒ½ä½œç”¨äºsakura-app.js
   * è¿™æ ·çš„è®¾ç½®ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨åŸºäºPHPå¼€å‘çš„ä¸»é¢˜ä¸­è®¾ç½®jså˜é‡ï¼Œæ—¢ç„¶ç§»æ¤åˆ°äº†Nodeä¸Šï¼Œæˆ‘æƒ³æˆ–è®¸å¯ä»¥ç²¾ç®€è¿™ä¸€é€»è¾‘å§
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "è‚‰å¤¹é­” orz( â€¢ Ì€Ï‰â€¢Ì )âœ§";
  mashiro_option.author_name = "( â€¢ Ì€Ï‰â€¢Ì )âœ§";
  mashiro_option.site_url = "https://vissaan.com";
  mashiro_option.v_appId = "wt3hMTeW7bzzSoI3FbnPDmD7-gzGzoHsz";
  mashiro_option.v_appKey = "DXDGmk7ykJxJODkWi7b4CP4q";
  mashiro_option.v_placeholder = "ğŸ‘†ğŸ‘†ğŸ‘†ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸ªåå·è¡Œä¸è¡Œ...";
  mashiro_option.v_avatar = "robohash";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "cdn_source/bg1.jpg,cdn_source/bg2.jpg,cdn_source/bg3.png".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('æœ‹å‹ï¼ŒIEæµè§ˆå™¨æœªé€‚é…å“¦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>

<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container"> 
    
    <!-- <div class="headertop ">
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://vissaan.com" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/custom/avatar3.png">
        </a>
      </div>
      <div class="header-info">
        <p>èµ°åœ¨é£ä¸­ä»Šå¤©é˜³å…‰ çªç„¶å¥½æ¸©æŸ”</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://github.com/Alexandermclean" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/github.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://weibo.com/yuhuiovo?is_all=1" target="_blank" class="social-github" title="sina">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/sina.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://music.163.com/#/user/home?id=52866184" target="_blank" class="social-github" title="wangyiyun">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/wangyiyun.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://www.zhihu.com/people/bu-yu-kuai-tnt-death/activities" target="_blank" class="social-github" title="zhihu">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/zhihu.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://weibo.com/yuhuiovo?is_all=1" target="_blank" class="social-github" title="email">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/email.svg">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/social/wechat.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/custom/weixin.jpeg">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div> -->
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">è‚‰å¤¹é­” orz</span>
            <span class="shironeko">( â€¢ Ì€Ï‰â€¢Ì )âœ§</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    é¦–é¡µ
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    å½’æ¡£
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/%E6%8A%80%E6%9C%AF/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          æŠ€æœ¯
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          é¡¹ç›®ç¬”è®°
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E8%B5%84%E6%BA%90/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          èµ„æº
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/">
                          <i class="fa fa fa-plug" aria-hidden="true"></i>
                          éšä¾¿å†™å†™
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/tags/JS/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    TAG
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/JS/">
                          <i class="fa fa-blind" aria-hidden="true"></i>
                          JS
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/vue/">
                          <i class="fa fa-wheelchair-alt" aria-hidden="true"></i>
                          vue
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/%E5%AE%89%E5%85%A8%E4%BA%91/">
                          <i class="fa fa-cloud" aria-hidden="true"></i>
                          å®‰å…¨äº‘
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/%E5%AE%B9%E6%98%93%E5%BF%98/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          å®¹æ˜“å¿˜
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/%E6%97%A5%E5%B8%B8/">
                          <i class="fa fa fa-trash" aria-hidden="true"></i>
                          æ—¥å¸¸
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    ç•™è¨€æ¿
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/bangumi/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    æ¸…å•
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          ç•ªç»„
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          æ­Œå•
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/about/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    å…³äº
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          æˆ‘ï¼Ÿ
                        </a>
                      </li>
                    
                      <li>
                        <a href="/lab/">
                          <i class="fa fa-cogs" aria-hidden="true"></i>
                          Lab
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- æœ‰é…å›¾é»˜è®¤æ¸²æŸ“ç¬¬ä¸€å¼  -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg);" src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      å®‰å…¨äº‘â€”â€”H3C</h1>
      <p class="entry-census">
        <span>
          <a href="https://vissaan.com" target="_blank" rel="noopener">
            <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/custom/avatar3.png">
          </a>
        </span>
        <span>
          <a href="https://vissaan.com" target="_blank" rel="noopener">è‚‰å¤¹é­”</a>
        </span>
        <span class="bull">
        Â·</span>
        2018-5-20<span class="bull">
        Â·</span>
      <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- å¥—åµŒç›®å½•ä½¿ç”¨ï¼ˆä¸»è¦ä¸ºäº†æ”¯æ´è¯„è®ºï¼‰-->
        
        <div class="entry-content">
          <h2 id="10-ES6ä½¿ç”¨å°ç»“"><a href="#10-ES6ä½¿ç”¨å°ç»“" class="headerlink" title="10.ES6ä½¿ç”¨å°ç»“"></a>10.ES6ä½¿ç”¨å°ç»“</h2><p>è¿™éƒ¨åˆ†å‘¢æ‰“ç®—å¯¹é¡¹ç›®ä¸­ç”¨åˆ°çš„ES6è¯­æ³•åšä¸ªå°æ€»ç»“å§: )ä»…æ˜¯å¯¹é¡¹ç›®ä½¿ç”¨çš„éƒ¨åˆ†åšè®°å½•ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»çœ‹çœ‹é˜®ä¸€å³°çš„<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ECMAScript 6 å…¥é—¨</a></p>
<h3 id="1-promise"><a href="#1-promise" class="headerlink" title="1.promise"></a>1.promise</h3><p>Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚<br>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>
<h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><pre><code class="javascript">// åˆ›å»ºpromiseå®ä¾‹
const promise = new Promise(function(resolve, reject) {
  // ... some code
  if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */){
    resolve(value);
  } else {
    reject(error);
  }
});

// Promiseå®ä¾‹ç”Ÿæˆä»¥åï¼Œå¯ä»¥ç”¨thenæ–¹æ³•åˆ†åˆ«æŒ‡å®šresolvedçŠ¶æ€å’ŒrejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚
promise.then(function(value) {
  // success
}, function(error) {
  // failure
});
</code></pre>
<h4 id="ä¸¾ä¸¤ä¸ªæ —å­å§"><a href="#ä¸¾ä¸¤ä¸ªæ —å­å§" class="headerlink" title="ä¸¾ä¸¤ä¸ªæ —å­å§"></a>ä¸¾ä¸¤ä¸ªæ —å­å§</h4><pre><code class="javascript">// ç®€å•æ“ä½œ
function timeout(ms) {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(resolve, ms, &#39;done&#39;); // ç¬¬ä¸‰ä¸ªå‚æ•°ä¼šä½œä¸ºresolveå‡½æ•°çš„å‚æ•°ä½¿ç”¨
  });
}

timeout(100).then((value) =&gt; {
  console.log(value); // æ‰“å°done
});    

// ç¨å¤æ‚æ“ä½œ
const getJSON = function(url) {
  const promise = new Promise(function(resolve, reject){
    const handler = function() {
      if (this.readyState !== 4) {
        return;
      }
      if (this.status === 200) {
        resolve(this.response); 
      } else {
        reject(new Error(this.statusText)); // åˆ†ç±»è¿›ä¸åŒçš„å›è°ƒ
      }
    };
    const client = new XMLHttpRequest();
    client.open(&quot;GET&quot;, url);
    client.onreadystatechange = handler;
    client.responseType = &quot;json&quot;;
    client.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);
    client.send();

  });

  return promise; // è¿”å›promiseå¯¹è±¡æ˜¯ç»§ç»­å›è°ƒçš„å…³é”®
};

getJSON(&quot;/posts.json&quot;).then(function(json) {
  console.log(&#39;Contents: &#39; + json);
}, function(error) {
  console.error(&#39;å‡ºé”™äº†&#39;, error);
});</code></pre>
<blockquote>
<p>promiseæ–°å»ºåä¼šæ‰§è¡Œsome codeçš„ä»£ç å—ï¼Œå†æ‰§è¡Œåé¢çš„ä»£ç ï¼Œæœ€åæ‰§è¡Œresolveå’Œrejectçš„éƒ¨åˆ†</p>
</blockquote>
<h4 id="é“¾å¼å›è°ƒï¼Œé¿å…å›è°ƒåœ°ç‹±"><a href="#é“¾å¼å›è°ƒï¼Œé¿å…å›è°ƒåœ°ç‹±" class="headerlink" title="é“¾å¼å›è°ƒï¼Œé¿å…å›è°ƒåœ°ç‹±"></a>é“¾å¼å›è°ƒï¼Œé¿å…å›è°ƒåœ°ç‹±</h4><p>å¤šå±‚çš„å›è°ƒçœ‹èµ·æ¥ååˆ†ä¸ç¾è§‚è€Œä¸”ä¸æ˜“æ•°æ®ç»´æŠ¤ï¼Œåœ¨jsä¸­å¼•å…¥é“¾å¼æ“ä½œä¼šå˜å¾—ä¼˜é›…å¾ˆå¤šã€‚</p>
<pre><code class="javascript">yPromise(value){
    return new Promise(function(resolve, reject){
        setTimeout(function(){
            if(value == 1002){
                resolve(value+1)
            }
            else {
                reject(&#39;yuhui&#39;)
            }
        },value)
    })
}


this.yPromise(1000)
  .catch(function(err){ // è°ƒç”¨resolveæˆ–rejectå¹¶ä¸ä¼šç»ˆç»“ Promise çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œã€‚
    console.log(err)
    // return Promise.resolve(1000)
    return Promise.reject(2000) // è¦æƒ³ç»§ç»­å›è°ƒå¿…é¡»è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡
}).catch(function(err){
    console.log(err)
    return Promise.resolve(1000)
}).then(function(res){
    console.log(res)
    // var res2 = res + 1000
    // return new Promise(function(resolve, reject){
    //     resolve(res2)
    // })
    return Promise.resolve(res+1000) //ç­‰ä»·äºä¸Šé¢çš„å†™æ³•
}).then(function(res){
    console.log(res)
    return Promise.resolve(res+1000)
})
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.0/img/assets/promise_1.PNG" alt=""></p>
<h3 id="2-ç®­å¤´å‡½æ•°"><a href="#2-ç®­å¤´å‡½æ•°" class="headerlink" title="2.ç®­å¤´å‡½æ•°"></a>2.ç®­å¤´å‡½æ•°</h3><p>å¾…ç»­ã€‚ã€‚ã€‚: p</p>
<h3 id="3-Setæ•°æ®ç»“æ„"><a href="#3-Setæ•°æ®ç»“æ„" class="headerlink" title="3.Setæ•°æ®ç»“æ„"></a>3.Setæ•°æ®ç»“æ„</h3><p>JavaScript åŸæœ‰çš„è¡¨ç¤ºâ€œé›†åˆâ€çš„æ•°æ®ç»“æ„ï¼Œä¸»è¦æ˜¯æ•°ç»„ï¼ˆArrayï¼‰å’Œå¯¹è±¡ï¼ˆObjectï¼‰ï¼ŒES6 åˆæ·»åŠ äº†Mapå’ŒSetã€‚  </p>
<pre><code class="javaacript">// è®°ä½ç®€å•çš„ç”¨æ³•å°±è¡Œ
let set = new Set([1,2,2,3,3,4])
[...set]  // [1,2,3,4]
set.size // 4</code></pre>
<h4 id="å®ä¾‹åŒ–Set"><a href="#å®ä¾‹åŒ–Set" class="headerlink" title="å®ä¾‹åŒ–Set"></a>å®ä¾‹åŒ–Set</h4><p>ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚  </p>
<pre><code class="javascript">const set = new Set([1,2,3,3,4,5])
console.log([...set])
// or

const set = new Set()
[1,2,3,3,4,5].forEach ((val, index) =&gt; {set.add(val)})
console.log([...set])
// 1,2,3,4,5  size:5

// æœ‰ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„ç°è±¡
// ç›´æ¥addä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯æŠŠæ•°ç»„å…ƒç´ ä¸€ä¸ªä¸ªadd
const set = new Set()
set.add([1,2,3,4,5,5])
console.log([...set])
// [1,2,3,4,5,5] size:1  ä¼šå¤šä¸€ä¸ªä¸€æ ·çš„addçš„æ•°ç»„ä¸”å¯ä»¥å«æœ‰é‡å¤å…ƒç´ </code></pre>
<blockquote>
<p>1.æ—¢å¯ä»¥åœ¨å®ä¾‹åŒ–Setçš„æ—¶å€™æŠŠæ•°ç»„å½“å‚æ•°ä¼ è¿›Set()æ„é€ å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨Setå¯¹è±¡çš„addæ–¹æ³•æ·»åŠ æˆå‘˜ã€‚<br>2.Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆ<strong>æˆ–è€…å…·æœ‰ iterable æ¥å£çš„å…¶ä»–æ•°æ®ç»“æ„</strong>ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–</p>
</blockquote>
<h4 id="ç‰¹æ€§å’Œç”¨æ³•"><a href="#ç‰¹æ€§å’Œç”¨æ³•" class="headerlink" title="ç‰¹æ€§å’Œç”¨æ³•"></a>ç‰¹æ€§å’Œç”¨æ³•</h4><p>1.é’ˆå¯¹Setæ•°æ®ç»“æ„å…ƒç´ ä¸é‡å¤çš„ç‰¹æ€§ï¼Œå¯ä»¥å¾ˆç®€å•çš„å¯¹æ•°ç»„å»é‡</p>
<pre><code class="javascript">[...new Set(array)] // å»é‡array</code></pre>
<p>ä¹Ÿå¯ä»¥ç”¨äºå­—ç¬¦ä¸²å»é‡</p>
<pre><code class="javascript">[...new Set(&#39;aabbccd&#39;)].join(&#39;&#39;) // å»é‡array</code></pre>
<blockquote>
<p>join() æ–¹æ³•ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé»˜è®¤ä»¥é€—å·åˆ†å‰²ï¼›å¯æ¥å—å­—ç¬¦ä¸²å‚æ•°xï¼Œå³ä»¥xåˆ†å‰²æ•°ç»„  </p>
</blockquote>
<p>2.å‘ Set åŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥5å’Œâ€5â€æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚Setå†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•ç±»ä¼¼äº<strong>ç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦</strong>ï¼ˆ===ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯åœ¨Setå†…éƒ¨NaNç­‰äºè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸ºNaNä¸ç­‰äºè‡ªèº«ã€‚</p>
<pre><code class="javascript">let set = new Set()
let a = NaN
let b = NaN
set.add(a)
set.add(b)
set // Set {NaN} å»é‡å

NaN === NaN // false</code></pre>
<p>å¦å¤–ï¼Œä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„ã€‚</p>
<pre><code class="javascript">let set = new Set();

set.add({})
set.size // 1

set.add({})
set.size // 2

{} === {} // false</code></pre>
<h4 id="Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"><a href="#Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"></a>Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h4><ol>
<li><p>Set ç»“æ„çš„å®ä¾‹æœ‰ä»¥ä¸‹å±æ€§ã€‚</p>
<ul>
<li>Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚</li>
<li>Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚  </li>
</ul>
</li>
<li><p>Set å®ä¾‹çš„æ–¹æ³•åˆ†ä¸ºä¸¤å¤§ç±»ï¼šæ“ä½œæ–¹æ³•ï¼ˆç”¨äºæ“ä½œæ•°æ®ï¼‰å’Œéå†æ–¹æ³•ï¼ˆç”¨äºéå†æˆå‘˜ï¼‰ã€‚ä¸‹é¢å…ˆä»‹ç»å››ä¸ªæ“ä½œæ–¹æ³•ã€‚</p>
<ul>
<li>add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚</li>
<li>delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</li>
<li>has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</li>
<li>clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚<pre><code class="javascript">s.add(1).add(2).add(2);
// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡
</code></pre>
</li>
</ul>
</li>
</ol>
<p>s.size // 2</p>
<p>s.has(1) // true<br>s.has(2) // true<br>s.has(3) // false</p>
<p>s.delete(2);<br>s.has(2) // false</p>
<pre><code>
å¦å¤–ï¼Œé™¤äº†ä¹‹å‰çš„[...set]è¿™ç§æ–¹å¼æŠŠsetç±»å‹è½¬æ¢æˆæ•°ç»„å¤–ï¼ŒArrayçš„from()æ–¹æ³•ä¹Ÿå¯ä»¥ã€‚
```javascript
let set = new Set([1,2,2,3,3,4])
let arr = Array.from(set) // [1,2,3,4]</code></pre><h4 id="éå†æ“ä½œ"><a href="#éå†æ“ä½œ" class="headerlink" title="éå†æ“ä½œ"></a>éå†æ“ä½œ</h4><p>Setç»“æ„çš„å®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºéå†æˆå‘˜ã€‚  </p>
<ul>
<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨</li>
<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>
<li>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>
<li>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>
</ul>
<blockquote>
<p>éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼ŒSetçš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚è¿™ä¸ªç‰¹æ€§æœ‰æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨Setä¿å­˜ä¸€ä¸ªå›è°ƒå‡½æ•°åˆ—è¡¨ï¼Œè°ƒç”¨æ—¶å°±èƒ½ä¿è¯æŒ‰ç…§æ·»åŠ é¡ºåºè°ƒç”¨ã€‚</p>
</blockquote>
<h5 id="keys-ï¼Œvalues-ï¼Œentries"><a href="#keys-ï¼Œvalues-ï¼Œentries" class="headerlink" title="keys()ï¼Œvalues()ï¼Œentries()"></a>keys()ï¼Œvalues()ï¼Œentries()</h5><p>keysæ–¹æ³•ã€valuesæ–¹æ³•ã€entriesæ–¹æ³•è¿”å›çš„éƒ½æ˜¯éå†å™¨å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯Iteratorå¯¹è±¡ï¼‰ã€‚ç”±äºSetç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚</p>
<pre><code class="javascript">let set = new Set([&#39;yu&#39;, &#39;zheng&#39;, &#39;hui&#39;]);

for (let item of set.keys()) {
  console.log(item);
}
// yu
// zheng
// hui

for (let item of set.values()) {
  console.log(item);
}
// yu
// zheng
// hui

for (let item of set.entries()) {
  console.log(item);
}
// [&quot;yu&quot;, &quot;yu&quot;]
// [&quot;zheng&quot;, &quot;zheng&quot;]
// [&quot;hui&quot;, &quot;hui&quot;]</code></pre>
<blockquote>
<p>entriesæ–¹æ³•è¿”å›çš„éå†å™¨ï¼ŒåŒæ—¶åŒ…æ‹¬é”®åå’Œé”®å€¼ï¼Œæ‰€ä»¥æ¯æ¬¡è¾“å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ä¸¤ä¸ªæˆå‘˜å®Œå…¨ç›¸ç­‰ã€‚</p>
</blockquote>
<p>å¦å¤–ï¼ŒSetç»“æ„çš„å®ä¾‹é»˜è®¤å¯éå†ï¼Œå®ƒçš„é»˜è®¤éå†å™¨ç”Ÿæˆå‡½æ•°å°±æ˜¯å®ƒçš„valuesæ–¹æ³•ã€‚</p>
<pre><code class="javacript">Set.prototype[Symbol.iterator] === Set.prototype.values
// true

// å¯ä»¥çœç•¥valuesæ–¹æ³•ï¼Œç›´æ¥ç”¨for...ofå¾ªç¯éå† Set
for (let item of set) { // ç­‰åŒäºfor (let item of set.values())
  console.log(item)
}
// yu
// zheng
// hui</code></pre>
<h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h5><p>Setç»“æ„çš„å®ä¾‹ä¸æ•°ç»„ä¸€æ ·ï¼Œä¹Ÿæ‹¥æœ‰forEachæ–¹æ³•ï¼Œç”¨äºå¯¹æ¯ä¸ªæˆå‘˜æ‰§è¡ŒæŸç§æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="javascript">let set = new Set([1, 4, 9]);
set.forEach((val, key) =&gt; console.log(key + &#39; : &#39; + val))
// 1 : 1
// 4 : 4
// 9 : 9</code></pre>
<blockquote>
<p>Setçš„forEachæ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ä¸æ•°ç»„çš„forEachä¸€è‡´ï¼Œä¾æ¬¡ä¸ºé”®å€¼ã€é”®åã€é›†åˆæœ¬èº«ï¼ˆä¸Šä¾‹çœç•¥äº†è¯¥å‚æ•°ï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œ<strong>Setç»“æ„çš„é”®åå°±æ˜¯é”®å€¼ï¼ˆä¸¤è€…æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œ</strong>å› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç¬¬äºŒä¸ªå‚æ•°çš„å€¼æ°¸è¿œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<h4 id="Arrayå’ŒSetç»„åˆåº”ç”¨"><a href="#Arrayå’ŒSetç»„åˆåº”ç”¨" class="headerlink" title="Arrayå’ŒSetç»„åˆåº”ç”¨"></a>Arrayå’ŒSetç»„åˆåº”ç”¨</h4><ol>
<li>æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äºSetäº†<pre><code class="javascript">let set = new Set([1, 2, 3]);
set = new Set([...set].map(x =&gt; x * 2));
// è¿”å›Setç»“æ„ï¼š{2, 4, 6}
</code></pre>
</li>
</ol>
<p>let set = new Set([1, 2, 3, 4, 5]);<br>set = new Set([â€¦set].filter(x =&gt; (x % 2) == 0));<br>// è¿”å›Setç»“æ„ï¼š{2, 4}</p>
<pre><code>
2. ä½¿ç”¨Setå¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifferenceï¼‰
```javascript
let a = new Set([1, 2, 3])
let b = new Set([4, 3, 2])

// å¹¶é›†
let union = new Set([...a, ...b])
// Set {1, 2, 3, 4}

// äº¤é›†
let intersect = new Set([...a].filter(x =&gt; b.has(x)))
// set {2, 3}

// å·®é›†
let difference = new Set([...a].filter(x =&gt; !b.has(x)))
// Set {1}</code></pre><h3 id="4-Mapæ•°æ®ç»“æ„"><a href="#4-Mapæ•°æ®ç»“æ„" class="headerlink" title="4.Mapæ•°æ®ç»“æ„"></a>4.Mapæ•°æ®ç»“æ„</h3><p>åŸºæœ¬ç”¨æ³•</p>
<pre><code class="javascript">const map = new Map([
    [true, 1],[{}, 1],[&#39;y&#39;, &#39;h&#39;]
])
map // {true =&gt; 1, {â€¦} =&gt; 1, &quot;y&quot; =&gt; &quot;h&quot;}</code></pre>
<p>Mapæ•°æ®ç»“æ„å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObjectç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMapç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„Hashç»“æ„å®ç°ã€‚</p>
<pre><code class="javascript">const m = new Map()
const o = {p: &#39;Hello World&#39;} // è¿™é‡Œçš„å¯¹è±¡ä¸€å®šè¦ç”¨å£°æ˜çš„å˜é‡ä½œä¸ºkeyï¼Œä¿è¯setå’Œgetæ˜¯æŒ‡å‘åŒä¸€å—å†…å­˜

m.set(o, &#39;content&#39;)
m.get(o) // &quot;content&quot;

m.has(o) // true
m.delete(o) // true
m.has(o) // false</code></pre>
<blockquote>
<p>ä¸Šé¢ä»£ç ä½¿ç”¨Mapç»“æ„çš„setæ–¹æ³•ï¼Œå°†å¯¹è±¡oå½“ä½œmçš„ä¸€ä¸ªé”®ï¼Œç„¶ååˆä½¿ç”¨getæ–¹æ³•è¯»å–è¿™ä¸ªé”®ï¼Œæ¥ç€ä½¿ç”¨deleteæ–¹æ³•åˆ é™¤äº†è¿™ä¸ªé”®ã€‚</p>
</blockquote>
<h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><ol>
<li>ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMapä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚<pre><code class="javascript">const map = new Map([
[&#39;name&#39;, &#39;yyy&#39;],
[&#39;title&#39;, &#39;hhh&#39;]
])
</code></pre>
</li>
</ol>
<p>map.size // 2<br>map.has(â€˜nameâ€™) // true<br>map.get(â€˜nameâ€™) // â€œyyyâ€<br>map.has(â€˜titleâ€™) // true<br>map.get(â€˜titleâ€™) // â€œhhhâ€</p>
<pre><code>
&gt; Mapæ„é€ å‡½æ•°æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æ‰§è¡Œäº†arr.forEach([key,val], index) =&gt; map.set(key, val)

2. ä¸ä»…ä»…æ˜¯æ•°ç»„ï¼Œä»»ä½•å…·æœ‰Iteratoræ¥å£ã€ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ çš„æ•°ç»„çš„æ•°æ®ç»“æ„ï¼Œéƒ½å¯ä»¥å½“ä½œMapæ„é€ å‡½æ•°çš„å‚æ•°ã€‚è¿™å°±æ˜¯è¯´ï¼ŒSetå’ŒMapéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°çš„ Mapã€‚
```javascript
const set = new Set([[&#39;yyy&#39;,1],[&#39;zzz&#39;,2],[&#39;hhh&#39;,3]])
const map = new Map([[&#39;yyy&#39;,4],[&#39;zzz&#39;,5],[&#39;hhh&#39;,6]])

const origin_map1 = new Map(set)
const origin_map2 = new Map(map)

origin_map1.get(&#39;yyy&#39;) // 1
origin_map2.get(&#39;yyy&#39;) // 4</code></pre><blockquote>
<p>åˆ†åˆ«ä½¿ç”¨Setå¯¹è±¡å’ŒMapå¯¹è±¡å½“ä½œMapæ„é€ å‡½æ•°çš„å‚æ•°ï¼Œç»“æœéƒ½ç”Ÿæˆäº†æ–°çš„Mapå¯¹è±¡ã€‚</p>
</blockquote>
<ol start="3">
<li>å¦‚æœå¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåé¢çš„å€¼å°†è¦†ç›–å‰é¢çš„å€¼ï¼›ä¸å­˜åœ¨çš„é”®å¯¹åº”çš„å€¼éƒ½æ˜¯undefinedã€‚<pre><code class="javascript">const map = new Map()
</code></pre>
</li>
</ol>
<p>map<br>.set(1, â€˜aaaâ€™)<br>.set(1, â€˜bbbâ€™)</p>
<p>map.get(1) // â€œbbbâ€</p>
<p>map.get(â€˜asfddfsasadfâ€™) // undefined</p>
<pre><code>
4. åªæœ‰å¯¹**åŒä¸€ä¸ªå¯¹è±¡**çš„å¼•ç”¨ï¼ŒMap ç»“æ„æ‰å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚
```javascript
const map = new Map()

map.set([&#39;a&#39;], 555)
map.get([&#39;a&#39;]) // undefined

let key = [&#39;a&#39;] // èµ‹å€¼ç»™å˜é‡ågetå’Œsetå¼•ç”¨çš„éƒ½æ˜¯åŒä¸€å—å†…å­˜äº†
map.set(key, 555)
map.get(key) // 555
</code></pre><blockquote>
<p>ä¸Šé¢ä»£ç çš„setå’Œgetæ–¹æ³•ï¼Œè¡¨é¢æ˜¯é’ˆå¯¹åŒä¸€ä¸ªé”®ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ä¸¤ä¸ªå€¼ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤getæ–¹æ³•æ— æ³•è¯»å–è¯¥é”®ï¼Œè¿”å›undefinedã€‚</p>
</blockquote>
<ol start="5">
<li>åŒæ ·çš„å€¼çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåœ¨Mapç»“æ„ä¸­è¢«è§†ä¸ºä¸¤ä¸ªé”®<pre><code class="javascript">const map = new Map()
</code></pre>
</li>
</ol>
<p>const k1 = [â€˜aâ€™]<br>const k2 = [â€˜aâ€™]</p>
<p>map<br>.set(k1, 111)<br>.set(k2, 222)</p>
<p>map.get(k1) // 111<br>map.get(k2) // 222</p>
<pre><code>
&gt; å˜é‡k1å’Œk2çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å®ƒä»¬æŒ‡å‘çš„æ˜¯ä¸¤å—ä¸åŒçš„å†…å­˜ï¼Œå› æ­¤åœ¨Mapç»“æ„ä¸­è¢«è§†ä¸ºä¸¤ä¸ªé”®

ç»¼ä¸Šæ‰€è¿°ï¼ŒMapçš„é”®å®é™…ä¸Šæ˜¯è·Ÿå†…å­˜åœ°å€ç»‘å®šçš„ï¼Œåªè¦å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå°±è§†ä¸ºä¸¤ä¸ªé”®ã€‚è¿™å°±è§£å†³äº†åŒåå±æ€§ç¢°æ’ï¼ˆclashï¼‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ‰©å±•åˆ«äººçš„åº“çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®åï¼Œå°±ä¸ç”¨æ‹…å¿ƒè‡ªå·±çš„å±æ€§ä¸åŸä½œè€…çš„å±æ€§åŒåã€‚  

å¦‚æœMapçš„é”®æ˜¯ä¸€ä¸ªç®€å•ç±»å‹çš„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œåˆ™åªè¦ä¸¤ä¸ªå€¼ä¸¥æ ¼ç›¸ç­‰ï¼ˆ===ï¼‰ï¼ŒMapå°†å…¶è§†ä¸ºä¸€ä¸ªé”®ï¼Œæ¯”å¦‚0å’Œ-0å°±æ˜¯ä¸€ä¸ªé”®ï¼Œå¸ƒå°”å€¼trueå’Œå­—ç¬¦ä¸²trueåˆ™æ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚å¦å¤–ï¼Œundefinedå’Œnullä¹Ÿæ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚  

**è™½ç„¶NaNä¸ä¸¥æ ¼ç›¸ç­‰äºè‡ªèº«ï¼Œä½†Mapå°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚**
```javascript
let map = new Map()

map.set(-0, 123)
map.get(+0) // 123

map.set(true, 1)
map.set(&#39;true&#39;, 2)
map.get(true) // 1

map.set(undefined, 3)
map.set(null, 4)
map.get(undefined) // 3

map.set(NaN, 123)
map.get(NaN) // 123</code></pre><h4 id="å±æ€§å’Œæ“ä½œæ–¹æ³•"><a href="#å±æ€§å’Œæ“ä½œæ–¹æ³•" class="headerlink" title="å±æ€§å’Œæ“ä½œæ–¹æ³•"></a>å±æ€§å’Œæ“ä½œæ–¹æ³•</h4><p>Map ç»“æ„çš„å®ä¾‹æœ‰ä»¥ä¸‹å±æ€§å’Œæ“ä½œæ–¹æ³•ï¼š</p>
<ol>
<li>å±æ€§<ul>
<li>size è¿”å›Mapç»“æ„çš„æˆå‘˜æ€»æ•°</li>
</ul>
</li>
<li>æ–¹æ³•<ul>
<li>set(key, value) è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ªMapç»“æ„</li>
<li>get(key) è¯»å–keyå¯¹åº”çš„é”®å€¼</li>
<li>has(key) è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­</li>
<li>delete(key) åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›false</li>
<li>clear() æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</li>
</ul>
</li>
</ol>
<pre><code class="javascript">const map = new Map()
map.set(&#39;foo&#39;, true)
map.set(&#39;bar&#39;, false)

map.size // 2
map.set(&#39;yyy&#39;, 1).set(&#39;zzz&#39;, 2) // setæ–¹æ³•è¿”å›çš„æ˜¯mapå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥æœ‰é“¾å¼å†™æ³•

map.get(&#39;yyy&#39;) // 1
map.get(&#39;hhh&#39;) // undefined

map.set(undefined, &#39;hah&#39;)
map.get(undefined) // hah
map.has(undefined) // true

map.delete(&#39;yyy&#39;) // æˆåŠŸåè¿”å›true
map.has(&#39;yyy&#39;) // fasle

map.clear()
map.has(undefined) // false</code></pre>
<h4 id="éå†æ–¹æ³•"><a href="#éå†æ–¹æ³•" class="headerlink" title="éå†æ–¹æ³•"></a>éå†æ–¹æ³•</h4><p>å’ŒSetä¸€æ ·ï¼ŒMapä¹Ÿæä¾›ä¸‰ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéå†æ–¹æ³•ã€‚  </p>
<ul>
<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li>
<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</li>
<li>entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</li>
<li>forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚</li>
</ul>
<h5 id="keys-values-entries"><a href="#keys-values-entries" class="headerlink" title="keys() values() entries()"></a>keys() values() entries()</h5><blockquote>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒMap çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚</p>
</blockquote>
<pre><code class="javascrpt">const map = new Map([
  [&#39;F&#39;, &#39;no&#39;],
  [&#39;T&#39;,  &#39;yes&#39;],
]);

for (let key of map.keys()) {  // éå†key
  console.log(key);
}
// &quot;F&quot;
// &quot;T&quot;

for (let value of map.values()) { // éå†value
  console.log(value);
}
// &quot;no&quot;
// &quot;yes&quot;

for (let item of map.entries()) { // éå†Mapæˆå‘˜
  console.log(item[0], item[1]);
}
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;

// æˆ–è€…
for (let [key, value] of map.entries()) {
  console.log(key, value);
}
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;

// ç­‰åŒäºä½¿ç”¨map.entries()
for (let [key, value] of map) { // Mapé»˜è®¤çš„éå†æ–¹æ³•ï¼ˆSymbol.iteratorå±æ€§ï¼‰å°±æ˜¯entries
  console.log(key, value);
}
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;</code></pre>
<h5 id="forEach-1"><a href="#forEach-1" class="headerlink" title="forEach()"></a>forEach()</h5><p>Mapè¿˜æœ‰ä¸€ä¸ªforEachæ–¹æ³•ï¼Œä¸æ•°ç»„çš„forEachæ–¹æ³•ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å®ç°éå†ã€‚</p>
<pre><code class="javascript">map.forEach(function(value, key, map) {
  console.log(&quot;Key: %s, Value: %s&quot;, key, value)
})

const reporter = {
  report: function(key, value) {
    console.log(&quot;Key: %s, Value: %s&quot;, key, value)
  }
}
map.forEach(function(value, key, map) {
  this.report(key, value)
}, reporter)</code></pre>
<blockquote>
<p>forEach()å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥æ”¹å˜thisçš„æŒ‡å‘</p>
</blockquote>
<h4 id="ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢"><a href="#ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢" class="headerlink" title="ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢"></a>ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢</h4><h5 id="1-Mapè½¬æˆæ•°ç»„"><a href="#1-Mapè½¬æˆæ•°ç»„" class="headerlink" title="1.Mapè½¬æˆæ•°ç»„"></a>1.Mapè½¬æˆæ•°ç»„</h5><p>Map ç»“æ„è½¬ä¸ºæ•°ç»„ç»“æ„ï¼Œæ¯”è¾ƒå¿«é€Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚</p>
<pre><code class="javascript">const map = new Map([
  [1, &#39;one&#39;],
  [2, &#39;two&#39;],
  [3, &#39;three&#39;]
])

[...map.keys()]
// [1, 2, 3]

[...map.values()]
// [&#39;one&#39;, &#39;two&#39;, &#39;three&#39;]

[...map.entries()]
// [[1,&#39;one&#39;], [2, &#39;two&#39;], [3, &#39;three&#39;]]

[...map]
// [[1,&#39;one&#39;], [2, &#39;two&#39;], [3, &#39;three&#39;]]</code></pre>
<p>ä»è€Œå¯ä»¥ç»“åˆæ•°ç»„çš„mapæ–¹æ³•ã€filteræ–¹æ³•ï¼Œå¯ä»¥å®ç° Map çš„éå†å’Œè¿‡æ»¤ï¼ˆMap æœ¬èº«æ²¡æœ‰mapå’Œfilteræ–¹æ³•ï¼‰ã€‚</p>
<pre><code class="javascript">const map0 = new Map()
  .set(1, &#39;a&#39;)
  .set(2, &#39;b&#39;)
  .set(3, &#39;c&#39;)

const map1 = new Map(
  [...map0].filter(([k, v]) =&gt; k &lt; 3) // [k, v]ç»“æ„èµ‹å€¼
)
// äº§ç”Ÿ Map ç»“æ„ {1 =&gt; &#39;a&#39;, 2 =&gt; &#39;b&#39;}

const map2 = new Map(
  [...map0].map(([k, v]) =&gt; [k * 2, &#39;_&#39; + v])
)
// äº§ç”Ÿ Map ç»“æ„ {2 =&gt; &#39;_a&#39;, 4 =&gt; &#39;_b&#39;, 6 =&gt; &#39;_c&#39;}</code></pre>
<h5 id="2-Mapè½¬ä¸ºå¯¹è±¡"><a href="#2-Mapè½¬ä¸ºå¯¹è±¡" class="headerlink" title="2.Mapè½¬ä¸ºå¯¹è±¡"></a>2.Mapè½¬ä¸ºå¯¹è±¡</h5><pre><code class="javascript">let obj = Object.create(null)
const map = new Map([
    [&#39;y&#39;,1],[&#39;z&#39;,2],[&#39;h&#39;,3]
])

map.forEach(function(v,k) {
    obj[k] = v
})
// or
for (let [k,v] of map) {
    obj[k] = v
}</code></pre>
<blockquote>
<p>è¿™æ ·æ— æŸè½¬æ¢çš„å‰ææ˜¯keyéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰éå­—ç¬¦ä¸²çš„é”®åï¼Œé‚£ä¹ˆè¿™ä¸ªé”®åä¼šè¢«è½¬æˆå­—ç¬¦ä¸²ï¼Œå†ä½œä¸ºå¯¹è±¡çš„é”®åã€‚</p>
</blockquote>
<h5 id="3-å¯¹è±¡è½¬ä¸ºMap"><a href="#3-å¯¹è±¡è½¬ä¸ºMap" class="headerlink" title="3.å¯¹è±¡è½¬ä¸ºMap"></a>3.å¯¹è±¡è½¬ä¸ºMap</h5><pre><code class="javascript">let obj = {&#39;y&#39;: 1, &#39;z&#39;: 2, &#39;h&#39;: 3}
const map = new Map()

for (let k in obj) {
    map.set(i, obj[i])
}
// or
for (let k of Object.keys(obj)) { //Object.keys(obj) =&gt; [&#39;y&#39;,&#39;z&#39;,&#39;h&#39;]
    map.set(i, obj[i])
}</code></pre>
<h5 id="3-Mapè½¬ä¸ºJSON"><a href="#3-Mapè½¬ä¸ºJSON" class="headerlink" title="3.Mapè½¬ä¸ºJSON"></a>3.Mapè½¬ä¸ºJSON</h5><pre><code class="javascript">let obj = Object.create(null)
const map = new Map([
    [&#39;y&#39;,1],[&#39;z&#39;,2],[&#39;h&#39;,3]
])

map.forEach(function(v,k) {
    obj[k] = v
})
// or
for (let [k,v] of map) {
    obj[k] = v
}

JSON.stringify(obj) // åœ¨Mapè½¬æ¢æˆå¯¹è±¡çš„åŸºç¡€ä¸ŠJSON.stringify()</code></pre>
<p>å¦ä¸€ç§æƒ…å†µæ˜¯å½“Mapçš„é”®æ˜¯éå­—ç¬¦ä¸²æ—¶ï¼Œè¿™æ—¶å€™å¯ä»¥é€‰æ‹©è½¬æˆJSONæ•°ç»„</p>
<pre><code class="javascript">const map = new Map([
    [true,1],[{&#39;y&#39;: h},2],[&#39;h&#39;,3]
])

const arr = [...map] // [[true,1],[{&#39;y&#39;: h},2],[&#39;h&#39;,3]]

JSON.stringify(arr)</code></pre>
<h3 id="5-è§£æ„"><a href="#5-è§£æ„" class="headerlink" title="5.è§£æ„"></a>5.è§£æ„</h3><h4 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h4><p>ES6å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚</p>
<pre><code class="javascript">// ä»¥å‰èµ‹å€¼
let a = 1
let b = 2
let c = 3

// ç”¨è§£æ„èµ‹å€¼
let [a,b,c] = [1,2,3]</code></pre>
<blockquote>
<p>æœ¬è´¨ä¸Šï¼Œè¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼</p>
</blockquote>
<p><strong>å®Œå…¨è§£æ„ï¼š</strong></p>
<pre><code class="javascript">let [foo, [[bar], baz]] = [1, [[2], 3]]
foo // 1
bar // 2
baz // 3

let [ , , third] = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
third // &quot;baz&quot;

let [x, , y] = [1, 2, 3]
x // 1
y // 3

let [head, ...tail] = [1, 2, 3, 4]
head // 1
tail // [2, 3, 4]</code></pre>
<p><strong>è§£æ„ä¸æˆåŠŸï¼š</strong></p>
<pre><code class="javascript">let [foo] = []
let [bar, foo] = [1]
foo // undefined

let [x, y, ...z] = [&#39;a&#39;]
x // &quot;a&quot;
y // undefined
z // []</code></pre>
<p><strong>ä¸å®Œå…¨è§£æ„ï¼š</strong><br>ç­‰å·å·¦è¾¹çš„æ¨¡å¼ï¼ŒåªåŒ¹é…ä¸€éƒ¨åˆ†çš„ç­‰å·å³è¾¹çš„æ•°ç»„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè§£æ„ä¾ç„¶å¯ä»¥æˆåŠŸã€‚</p>
<pre><code class="javascript">let [x, y] = [1, 2, 3];
x // 1
y // 2

let [a, [b], d] = [1, [2, 3], 4];
a // 1
b // 2
d // 4</code></pre>
<p><strong>è§£æ„æŠ¥é”™ï¼š</strong><br>å¦‚æœç­‰å·çš„å³è¾¹ä¸æ˜¯æ•°ç»„æˆ–è€…ä¸¥æ ¼åœ°è¯´ï¼Œä¸æ˜¯å¯éå†çš„ç»“æ„ï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™ã€‚</p>
<pre><code class="javascript">// æŠ¥é”™
let [foo] = 1
let [foo] = false
let [foo] = NaN
let [foo] = undefined
let [foo] = null
let [foo] = {}</code></pre>
<blockquote>
<p>ä¸Šé¢çš„è¯­å¥éƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºç­‰å·å³è¾¹çš„å€¼ï¼Œè¦ä¹ˆ<strong>è½¬ä¸ºå¯¹è±¡</strong>ä»¥åä¸å…·å¤‡Iteratoræ¥å£ï¼ˆå‰äº”ä¸ªè¡¨è¾¾å¼ï¼‰ï¼Œè¦ä¹ˆæœ¬èº«å°±ä¸å…·å¤‡Iteratoræ¥å£ï¼ˆæœ€åä¸€ä¸ªè¡¨è¾¾å¼ï¼‰ã€‚</p>
</blockquote>
<p><strong>æœ‰Iteratoræ¥å£æ•°æ®æ ¼å¼çš„ç»“æ„</strong><br>ä¾‹å¦‚Setæ•°æ®ç»“æ„å’ŒGeneratorå‡½æ•°ï¼š</p>
<pre><code class="javascript">let [x, y, z] = new Set([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])
x // &quot;a&quot;

// Generatorå‡½æ•°

function* fibs() {
  let a = 0;
  let b = 1;
  while (true) {
    yield a;
    [a, b] = [b, a + b];
  }
}

let [first, second, third, fourth, fifth, sixth] = fibs();
sixth // 5</code></pre>
<blockquote>
<p>fibsæ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼ŒåŸç”Ÿå…·æœ‰Iteratoræ¥å£ã€‚è§£æ„èµ‹å€¼ä¼šä¾æ¬¡ä»è¿™ä¸ªæ¥å£è·å–å€¼ã€‚</p>
</blockquote>

        </div>
        <!-- .entry-content -->
        <!-- <div class="single-reward">
          <div class="reward-open">èµ
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1null"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1null"></li>
              </ul>
            </div>
          </div>
        </div> -->
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <!-- <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer> -->
        <!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2018/05/20/seccloud_sixth/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg">
              </div>
              <span class="label">
              Previous</span>
              <div class="info">
                <h3>
                å®‰å…¨äº‘â€”â€”H3C</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2018/05/08/seccloud_second/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/banner/lab.jpg">
              </div>
              <span class="label">
              Next</span>
              <div class="info">
                <h3>
                å®‰å…¨äº‘â€”â€”H3C</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script src='/cdn_source/valid.min.js'></script>
<script>
  (function(){
    if (!valine) {
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "wt3hMTeW7bzzSoI3FbnPDmD7-gzGzoHsz",
        appKey: "DXDGmk7ykJxJODkWi7b4CP4q",
        path: window.location.pathname,
        cookie: document.cookie,
        placeholder: "ğŸ‘†ğŸ‘†ğŸ‘†ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸ªåå·è¡Œä¸è¡Œ...",
        avatar: "robohash",
      })
    }
  })()

  window.onload = function(){
    if (!valine) {
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "wt3hMTeW7bzzSoI3FbnPDmD7-gzGzoHsz",
        appKey: "DXDGmk7ykJxJODkWi7b4CP4q",
        path: window.location.pathname,
        cookie: document.cookie,
        placeholder: "ğŸ‘†ğŸ‘†ğŸ‘†ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸ªåå·è¡Œä¸è¡Œ...",
        avatar: "robohash",
      })
    }
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="https://vissaan.com" target="_blank" rel="noopener" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@3.0/img/custom/avatar3.png" itemprop="image" alt="è‚‰å¤¹é­”" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <!-- <h3 itemprop="name">
            <a href="https://vissaan.com" target="_blank" itemprop="url" rel="author noopener">è‚‰å¤¹é­”</a>
            </h3> -->
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>å†™å®Œéœ€æ±‚æ¬blogå†…å®¹ï¼ˆ2020/1/6 tencentï¼‰</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            // PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 mclane<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
      <span style="color: #b9b9b9;">( â€¢ Ì€Ï‰â€¢Ì )âœ§ 
        <a href="http://vissaan.com/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">è‚‰å¤¹é­”sama </a>
        <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i>
        <span style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Â© 2016 â€¢ All rights reserved.</span>
      </span>
    </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script src='/cdn_source/valid.min.js'></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/js/botui.js"></script>
<!-- ä¸è’œå­ ç½‘é¡µè®¡æ•°å™¨ -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "","name":"","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "","name":"","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //æœ‰å›¾çš„æƒ…å†µ
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // æ”¾ç½®ç›®å½•çš„å®¹å™¨
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // æ­£æ–‡å†…å®¹æ‰€åœ¨
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // éœ€è¦ç´¢å¼•çš„æ ‡é¢˜çº§åˆ«
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // æ”¾ç½®ç›®å½•çš„å®¹å™¨
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // æ­£æ–‡å†…å®¹æ‰€åœ¨
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // éœ€è¦ç´¢å¼•çš„æ ‡é¢˜çº§åˆ«
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/alexandermclean/cdn@5.1/img/custom/avatar3.png">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">è‚‰å¤¹é­” orz( â€¢ Ì€Ï‰â€¢Ì )âœ§</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://github.com/Alexandermclean" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://weibo.com/yuhuiovo?is_all=1" class="fa fa-weibo" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
        <a href="https://wpa.qq.com/msgrd?v=3&uin=779186016&site=qq&menu=yes" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            é¦–é¡µ
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            å½’æ¡£
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/%E6%8A%80%E6%9C%AF/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  æŠ€æœ¯
                </a>
              </li>
            
              <li>
                <a href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  é¡¹ç›®ç¬”è®°
                </a>
              </li>
            
              <li>
                <a href="/categories/%E8%B5%84%E6%BA%90/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  èµ„æº
                </a>
              </li>
            
              <li>
                <a href="/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/">
                  <i class="fa fa fa-plug" aria-hidden="true"></i>
                  éšä¾¿å†™å†™
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/tags/JS/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            TAG
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/JS/">
                  <i class="fa fa-blind" aria-hidden="true"></i>
                  JS
                </a>
              </li>
            
              <li>
                <a href="/tags/vue/">
                  <i class="fa fa-wheelchair-alt" aria-hidden="true"></i>
                  vue
                </a>
              </li>
            
              <li>
                <a href="/tags/%E5%AE%89%E5%85%A8%E4%BA%91/">
                  <i class="fa fa-cloud" aria-hidden="true"></i>
                  å®‰å…¨äº‘
                </a>
              </li>
            
              <li>
                <a href="/tags/%E5%AE%B9%E6%98%93%E5%BF%98/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  å®¹æ˜“å¿˜
                </a>
              </li>
            
              <li>
                <a href="/tags/%E6%97%A5%E5%B8%B8/">
                  <i class="fa fa fa-trash" aria-hidden="true"></i>
                  æ—¥å¸¸
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            ç•™è¨€æ¿
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/bangumi/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            æ¸…å•
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  ç•ªç»„
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  æ­Œå•
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/about/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            å…³äº
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  æˆ‘ï¼Ÿ
                </a>
              </li>
            
              <li>
                <a href="/lab/">
                  <i class="fa fa-cogs" aria-hidden="true"></i>
                  Lab
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="163218826"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?be6c8959090055fea075a33191a71b8b";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>